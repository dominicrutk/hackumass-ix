(this["webpackJsonphackumass-ix"]=this["webpackJsonphackumass-ix"]||[]).push([[0],{42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},46:function(e,t,s){},52:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(10),i=s.n(r),c=(s(41),s(42),s(43),s(7)),o=s(56),h=s(64),l=s(65),d=s(57);s(44);var u=s(1),j=[42.390208,-72.528271],f={GREEN:{fillColor:"green",fillOpacity:.6,stroke:!1},YELLOW:{fillColor:"yellow",fillOpacity:.6,stroke:!1},RED:{fillColor:"red",fillOpacity:.6,stroke:!1}};var b=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),s=t[0],n=t[1];return Object(a.useEffect)((function(){fetch("".concat("http://ec2-3-138-61-140.us-east-2.compute.amazonaws.com","/building")).then((function(e){return e.json()})).then((function(e){n(e),console.log(s)})).catch(console.err)}),[]),s.forEach((function(e){e.statuses={green:0,yellow:0,red:0,total:0},e.waterFountains.forEach((function(t){"GREEN"===t.status?e.statuses.green++:"YELLOW"===t.status?e.statuses.yellow++:"RED"===t.status&&e.statuses.red++,e.statuses.total++})),e.statuses.red>=e.statuses.green&&e.statuses.red>=e.statuses.yellow&&0!==e.statuses.total?e.status="RED":e.statuses.yellow>=e.statuses.green?e.status="YELLOW":e.status="GREEN",e.radius=Math.min(Math.max(5*e.statuses.total,10),50)})),Object(u.jsxs)(o.a,{center:j,zoom:15,scrollWheelZoom:!0,className:"Map",children:[Object(u.jsx)(h.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map((function(e){return Object(u.jsx)(l.a,{center:[e.latitude,e.longitude],pathOptions:f[e.status],radius:e.radius,children:Object(u.jsx)(d.a,{children:e.name})})}))]})},g=(s(46),s(61)),m=s(58),O=s(62);var p=function(){return Object(u.jsx)(g.a,{fluid:!0,bg:"dark",variant:"dark",children:Object(u.jsxs)(m.a,{children:[Object(u.jsx)(g.a.Brand,{href:"#home",children:"Internet of Utilities (IOU)"}),Object(u.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(O.a,{className:"me-auto",children:[Object(u.jsx)(O.a.Link,{href:"https://hackumass.com/",target:"_ ",children:"HackUmass"}),Object(u.jsx)(O.a.Link,{href:"https://github.com/dominicrutk/hackumass-ix",target:"_ ",children:"GitHub"}),Object(u.jsx)(O.a.Link,{href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",target:"_ ",children:"Documentation"}),Object(u.jsx)(O.a.Link,{href:"https://mlh.io/",target:"_ ",children:"Major League Hacking"})]})})]})})},x=s(59),y=s(60),w=s(63);var v=function(){return Object(u.jsx)(m.a,{fluid:!0,children:Object(u.jsxs)(x.a,{children:[Object(u.jsx)(y.a,{children:Object(u.jsxs)(w.a,{bg:"dark",text:"white",children:[Object(u.jsx)(w.a.Header,{children:"Description"}),Object(u.jsxs)(w.a.Body,{children:[Object(u.jsx)(w.a.Text,{children:"Above a map displays various green, yellow, and red circles. Each circle corresponds to a location where one or more UMass hydration stations are present. The color of the circle corresponds to the average status of the filters at a given location, where a green circle corresponds to a majority of healthy filters, a yellow circle corresponds to a majority of filters nearing the need for replacement, and a red circle indicates a majority of filters need to be replaced. Additionally, the size of the circles corresponds to the number of filters present. Below the map, there is a listing of the locations, the number of filters in each status category, and the estimated urgency associated with replacing filters in that location. Urgency is measured from 0 (meaning no urgency) to 1 (meaning high urgency)."}),Object(u.jsx)("img",{width:"100%",height:"100%",src:"ImageOfFountain.jpg"})]})]})}),Object(u.jsx)(y.a,{children:Object(u.jsxs)(w.a,{bg:"dark",text:"white",children:[Object(u.jsx)(w.a.Header,{children:"Motivations"}),Object(u.jsxs)(w.a.Body,{children:[Object(u.jsx)(w.a.Text,{children:"This project aims to improve the lives of all people in the UMass community by improving their access to water. It aims to achieve this by assisting the facilities staff in their task of prioritizing resources. With a limited staff and potentially limited replacement filters, on a near-daily basis facilities managers decide which tasks on campus are of the highest priority and which areas require their attention most when executing those tasks. When it comes to the task of replacing the filters of the hydration stations on campus, due to the number of separate filters, 243 as of last fall, it can be a challenge to determine where there are filters in need of replacement. Further, even with this data, the task of assessing the urgency of replacement in areas based on their usage and the number of filters present can be daunting. This led us to create a user interface that shows a map of the filters, create an algorithm to calculate the estimated urgency for each location, and order those locations in a table based on their urgencies."}),Object(u.jsx)("img",{width:"100%",height:"100%",src:"img2.jpg"})]})]})}),Object(u.jsx)(y.a,{children:Object(u.jsxs)(w.a,{bg:"dark",text:"white",children:[Object(u.jsx)(w.a.Header,{children:"Methods"}),Object(u.jsxs)(w.a.Body,{children:[Object(u.jsx)(w.a.Text,{children:"The hardware in this project involves two components, one component to detect the status of the filter and another to estimate the frequency with which the filters are used. The detection component utilizes a raspberry pi NoIR camera that is connected to a 3D-printed mount for the filter. This sensor continuously checks the status and updates a backend SQL database that feeds into the react frontend user interface. The frequency with which the filters are used is estimated using an ultrasonic distance sensor that tracks the amount of time a stream of water is running. This time is proportional to the volume of water output and thereby serves as an estimate for how often the filter is used. These two components, the status and frequency of use, are factored into our algorithm that ranks the locations and orders them accordingly in the table."}),Object(u.jsx)("img",{width:"100%",height:"100%",src:"img3.jpg"})]})]})})]})})},E=s(35);function k(e){var t=e.building,s={urgency:t.urgency,location:t.name,greens:0,yellows:0,reds:0};return t.waterFountains.forEach((function(e){"GREEN"===e.status&&s.greens++,"YELLOW"===e.status&&s.yellows++,"RED"===e.status&&s.reds++})),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:s.urgency}),Object(u.jsx)("td",{children:s.location}),Object(u.jsx)("td",{children:s.greens}),Object(u.jsx)("td",{children:s.yellows}),Object(u.jsx)("td",{children:s.reds})]})}var T=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),s=t[0],n=t[1];return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})),Object(a.useEffect)((function(){fetch("".concat("http://ec2-3-138-61-140.us-east-2.compute.amazonaws.com","/building")).then((function(e){return e.json()})).then((function(e){!function(e){for(var t=function(t){e[t].greens=0,e[t].yellows=0,e[t].reds=0,e[t].waterFountains.forEach((function(s){"GREEN"===s.status&&e[t].greens++,"YELLOW"===s.status&&e[t].yellows++,"RED"===s.status&&e[t].reds++}));var s=e[t].greens+e[t].yellows+e[t].reds,a=e[t].reds+0*e[t].yellows;e[t].urgency=Math.trunc(a/s*100)/100},s=0;s<e.length;s++)t(s);function a(e,t){return e.urgency>t.urgency?-1:1}e.sort(a)}(e),n(e),console.log(s)})).catch(console.err)}),[]),console.log("rendered the search component"),Object(u.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Urgency"}),Object(u.jsx)("th",{children:"Location"}),Object(u.jsx)("th",{children:"Greens"}),Object(u.jsx)("th",{children:"Yellows"}),Object(u.jsx)("th",{children:"Reds"})]})}),Object(u.jsx)("tbody",{children:s.map((function(e){return Object(u.jsx)(k,{building:e},e.id)}))})]})};var L=function(){return Object(a.useEffect)((function(){document.title="Internet of Utilities (IOU)"}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),Object(u.jsx)(b,{}),Object(u.jsx)(T,{}),Object(u.jsx)(v,{}),Object(u.jsx)("div",{class:"w3-bar-item"})]})},R=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,66)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(L,{})}),document.getElementById("root")),R()}},[[52,1,2]]]);
//# sourceMappingURL=main.fd599bf4.chunk.js.map